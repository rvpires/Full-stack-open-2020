{"ast":null,"code":"var _jsxFileName = \"/home/rvp/Desktop/Full-stack-open-2020/part7/blog/client/src/App.js\";\nimport React, { useEffect } from 'react';\nimport Notification from './components/Notification';\nimport AddForm from './components/AddForm';\nimport LoginForm from './components/LoginForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport BlogList from './components/BlogList';\nimport { initBlogs } from './reducers/blogReducer';\nimport { setUser, logout } from './reducers/loginReducer';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  let user = useSelector(state => state.user);\n  useEffect(() => {\n    dispatch(initBlogs());\n  }, [dispatch]);\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser');\n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      dispatch(setUser(user));\n    }\n  }, []);\n\n  if (!user) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"login into application\"), React.createElement(Notification, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), React.createElement(LoginForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, user.username, \" logged in \", React.createElement(\"button\", {\n      onClick: () => dispatch(logout()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"logout\")), React.createElement(Notification, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"create new\"), React.createElement(AddForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(BlogList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }));\n  }\n};\n\nexport default App;","map":{"version":3,"sources":["/home/rvp/Desktop/Full-stack-open-2020/part7/blog/client/src/App.js"],"names":["React","useEffect","Notification","AddForm","LoginForm","useDispatch","useSelector","BlogList","initBlogs","setUser","logout","App","dispatch","user","state","loggedUserJSON","window","localStorage","getItem","JSON","parse","username"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,OAAT,EAAmBC,MAAnB,QAAiC,yBAAjC;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAEjB,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,MAAIQ,IAAI,GAAGP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACD,IAAhB,CAAtB;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AAACW,IAAAA,QAAQ,CAACJ,SAAS,EAAV,CAAR;AAAsB,GAA9B,EAAiC,CAACI,QAAD,CAAjC,CAAT;AAEAX,EAAAA,SAAS,CAAC,MAAM;AAEf,UAAMc,cAAc,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAvB;;AACA,QAAIH,cAAJ,EAAoB;AACnB,YAAMF,IAAI,GAAGM,IAAI,CAACC,KAAL,CAAWL,cAAX,CAAb;AACAH,MAAAA,QAAQ,CAACH,OAAO,CAACI,IAAD,CAAR,CAAR;AAEA;AACD,GARQ,EAQN,EARM,CAAT;;AAWA,MAAG,CAACA,IAAJ,EACA;AACC,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADD,EAEC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,EAGC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHD,CADD;AAOA,GATD,MAYA;AACC,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,IAAI,CAACQ,QAAT,iBAA6B;AAAQ,MAAA,OAAO,EAAE,MAAMT,QAAQ,CAACF,MAAM,EAAP,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA7B,CADD,EAEC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,EAIC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,EAKC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALD,CADD;AAUA;AACD,CA1CD;;AA4CA,eAAeC,GAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport Notification from './components/Notification'\nimport AddForm from './components/AddForm'\nimport LoginForm from './components/LoginForm'\nimport { useDispatch ,useSelector } from 'react-redux'\nimport BlogList from './components/BlogList'\nimport { initBlogs } from './reducers/blogReducer'\nimport { setUser , logout } from './reducers/loginReducer'\n\nconst App = () => {\n\n\tconst dispatch = useDispatch()\n\tlet user = useSelector(state => state.user)\n\n\tuseEffect(() => {dispatch(initBlogs())} , [dispatch])\n\n\tuseEffect(() => {\n\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedUser')\n\t\tif (loggedUserJSON) {\n\t\t\tconst user = JSON.parse(loggedUserJSON)\n\t\t\tdispatch(setUser(user))\n\n\t\t}\n\t}, [])\n\n\n\tif(!user)\n\t{\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<h1>login into application</h1>\n\t\t\t\t<Notification />\n\t\t\t\t<LoginForm />\n\t\t\t</div>\n\t\t)\n\t}\n\n\telse\n\t{\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<p>{user.username} logged in <button onClick={() => dispatch(logout())}>logout</button></p>\n\t\t\t\t<Notification />\n\t\t\t\t<h2>create new</h2>\n\t\t\t\t<AddForm />\n\t\t\t\t<BlogList />\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}