{"ast":null,"code":"var _jsxFileName = \"/home/rvp/Desktop/Full-stack-open-2020/part7/blog/client/src/components/Blog.js\";\nimport React, { useState } from 'react';\nimport { updateBlog, deleteBlog } from '../reducers/blogReducer';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst Blog = ({\n  blog\n}) => {\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n  const [details, setDetails] = useState(false);\n  const [buttonText, setButtonText] = useState('view');\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n\n  const toggleDetails = () => {\n    if (details === true) {\n      setDetails(false);\n      setButtonText('view');\n    } else if (details === false) {\n      setDetails(true);\n      setButtonText('hide');\n    }\n  };\n\n  const showWhenVisible = {\n    display: details ? '' : 'none'\n  };\n  const showDelete = {\n    display: blog.user.username === user.username ? '' : 'none'\n  }; //const showDelete = {display : ''}\n\n  const likeBlog = async event => {\n    event.preventDefault();\n    const newBlog = blog;\n    newBlog.likes++;\n    dispatch(updateBlog(newBlog));\n  };\n\n  const eraseBlog = async event => {\n    event.preventDefault();\n    console.log(blog);\n    dispatch(deleteBlog(blog, user));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Blog\",\n    style: blogStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, blog.title, \" \", blog.author, \" \", React.createElement(\"button\", {\n    onClick: toggleDetails,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, buttonText)), React.createElement(\"div\", {\n    className: \"togglableContent\",\n    style: showWhenVisible,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, blog.url, \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), blog.likes, \" \", React.createElement(\"button\", {\n    onClick: likeBlog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"like\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), blog.author, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: showDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: eraseBlog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"delete\"))));\n};\n\nexport default Blog;","map":{"version":3,"sources":["/home/rvp/Desktop/Full-stack-open-2020/part7/blog/client/src/components/Blog.js"],"names":["React","useState","updateBlog","deleteBlog","useDispatch","useSelector","Blog","blog","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","details","setDetails","buttonText","setButtonText","user","state","dispatch","toggleDetails","showWhenVisible","display","showDelete","username","likeBlog","event","preventDefault","newBlog","likes","eraseBlog","console","log","title","author","url"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { updateBlog, deleteBlog } from '../reducers/blogReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\n\nconst Blog = ({ blog }) => {\n\n\n\tconst blogStyle = {\n\t\tpaddingTop: 10,\n\t\tpaddingLeft: 2,\n\t\tborder: 'solid',\n\t\tborderWidth: 1,\n\t\tmarginBottom: 5\n\t}\n\n\n\tconst [details, setDetails] = useState(false)\n\tconst [buttonText, setButtonText] = useState('view')\n\tconst user = useSelector(state => state.user)\n\n\tconst dispatch = useDispatch()\n\n\tconst toggleDetails = () => {\n\t\tif (details === true) {\n\t\t\tsetDetails(false)\n\t\t\tsetButtonText('view')\n\t\t}\n\n\t\telse if (details === false) {\n\t\t\tsetDetails(true)\n\t\t\tsetButtonText('hide')\n\t\t}\n\t}\n\n\tconst showWhenVisible = { display: details ? '' : 'none' }\n\tconst showDelete = { display: blog.user.username === user.username ? '' : 'none' }\n\t//const showDelete = {display : ''}\n\tconst likeBlog = async (event) => {\n\t\tevent.preventDefault()\n\t\tconst newBlog = blog\n\t\tnewBlog.likes++\n\t\tdispatch(updateBlog(newBlog))\n\t}\n\n\tconst eraseBlog = async (event) => {\n\t\tevent.preventDefault()\n\t\tconsole.log(blog)\n\t\tdispatch(deleteBlog(blog, user))\n\n\t}\n\n\n\treturn (\n\t\t<div className='Blog' style={blogStyle}>\n\n\t\t\t<div>\n\t\t\t\t{blog.title} {blog.author} <button onClick={toggleDetails}>{buttonText}</button>\n\t\t\t</div>\n\n\t\t\t<div className='togglableContent' style={showWhenVisible}>\n\t\t\t\t{blog.url} <br />\n\t\t\t\t{blog.likes} <button onClick={likeBlog}>like</button><br />\n\t\t\t\t{blog.author}<br />\n\t\t\t\t<div style={showDelete} >\n\t\t\t\t\t<button onClick={eraseBlog}>delete</button></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n\n\nexport default Blog\n"]},"metadata":{},"sourceType":"module"}