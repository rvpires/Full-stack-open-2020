{"ast":null,"code":"import axios from 'axios';\nimport { useSelector } from 'react-redux';\nconst baseUrl = '/api/blogs';\nlet token = null;\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl);\n  return response.data;\n};\n\nconst create = async newObject => {\n  const config = {\n    headers: {\n      Authorization: token\n    }\n  };\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = async newObject => {\n  const response = await axios.put(`${baseUrl}/${newObject.id}`, newObject);\n  return response.data;\n};\n\nconst deleteBlog = async blog => {\n  const config = {\n    headers: {\n      Authorization: token\n    }\n  };\n  const response = await axios.delete(`${baseUrl}/${blog.id}`, config);\n  return response.data;\n};\n\nexport default {\n  getAll,\n  create,\n  setToken,\n  update,\n  deleteBlog\n};","map":{"version":3,"sources":["/home/rvp/Desktop/Full-stack-open-2020/part7/blog/client/src/services/blogs.js"],"names":["axios","useSelector","baseUrl","token","setToken","newToken","getAll","response","get","data","create","newObject","config","headers","Authorization","post","update","put","id","deleteBlog","blog","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,MAAMC,OAAO,GAAG,YAAhB;AAEA,IAAIC,KAAK,GAAG,IAAZ;;AAEA,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;AAC5BF,EAAAA,KAAK,GAAI,UAASE,QAAS,EAA3B;AACA,CAFD;;AAKA,MAAMC,MAAM,GAAG,YAAY;AAC1B,QAAOC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUN,OAAV,CAAxB;AACA,SAAOK,QAAQ,CAACE,IAAhB;AACA,CAHD;;AAKA,MAAMC,MAAM,GAAG,MAAMC,SAAN,IAAmB;AACjC,QAAMC,MAAM,GAAG;AACdC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAEX;AAAjB;AADK,GAAf;AAIA,QAAMI,QAAQ,GAAG,MAAMP,KAAK,CAACe,IAAN,CAAWb,OAAX,EAAoBS,SAApB,EAA+BC,MAA/B,CAAvB;AACA,SAAOL,QAAQ,CAACE,IAAhB;AACA,CAPD;;AAUA,MAAMO,MAAM,GAAG,MAAML,SAAN,IACf;AACC,QAAMJ,QAAQ,GAAG,MAAMP,KAAK,CAACiB,GAAN,CAAW,GAAEf,OAAQ,IAAGS,SAAS,CAACO,EAAG,EAArC,EAAwCP,SAAxC,CAAvB;AACA,SAAOJ,QAAQ,CAACE,IAAhB;AACA,CAJD;;AAMA,MAAMU,UAAU,GAAG,MAAMC,IAAN,IACnB;AACC,QAAMR,MAAM,GAAG;AAAEC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,EAAEX;AAAjB;AAAX,GAAf;AAEA,QAAMI,QAAQ,GAAG,MAAMP,KAAK,CAACqB,MAAN,CAAc,GAAEnB,OAAQ,IAAGkB,IAAI,CAACF,EAAG,EAAnC,EAAsCN,MAAtC,CAAvB;AACA,SAAOL,QAAQ,CAACE,IAAhB;AAGA,CARD;;AAUA,eAAe;AAAEH,EAAAA,MAAF;AAAWI,EAAAA,MAAX;AAAmBN,EAAAA,QAAnB;AAA6BY,EAAAA,MAA7B;AAAqCG,EAAAA;AAArC,CAAf","sourcesContent":["import axios from 'axios'\nimport { useSelector } from 'react-redux'\n\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n\ttoken = `bearer ${newToken}`\n}\n\n\nconst getAll = async () => {\n\tconst  response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst create = async newObject => {\n\tconst config = {\n\t\theaders: { Authorization: token }\n\t}\n\n\tconst response = await axios.post(baseUrl, newObject, config)\n\treturn response.data\n}\n\n\nconst update = async newObject =>\n{\n\tconst response = await axios.put(`${baseUrl}/${newObject.id}`, newObject)\n\treturn response.data\n}\n\nconst deleteBlog = async blog =>\n{\n\tconst config = { headers: { Authorization: token } }\n\n\tconst response = await axios.delete(`${baseUrl}/${blog.id}`, config)\n\treturn response.data\n\n\n}\n\nexport default { getAll , create, setToken, update, deleteBlog }"]},"metadata":{},"sourceType":"module"}