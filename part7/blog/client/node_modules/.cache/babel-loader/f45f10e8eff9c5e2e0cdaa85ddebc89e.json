{"ast":null,"code":"let timeoutArr = [];\n\nconst notificationReducer = (state = '', action) => {\n  switch (action.type) {\n    case 'HIDE':\n      return '';\n\n    case 'SHOW':\n      timeoutArr.forEach(element => clearTimeout(element));\n      return action.data.notification;\n\n    default:\n      return state;\n  }\n};\n\nexport const setNotification = (notification, timeLimit) => {\n  return async dispatch => {\n    dispatch({\n      type: 'SHOW',\n      data: {\n        notification\n      }\n    });\n    const timeoutId = setTimeout(() => {\n      dispatch({\n        type: 'HIDE',\n        data: {\n          timeoutId\n        }\n      });\n    }, timeLimit * 1000);\n    timeoutArr = timeoutArr.concat([timeoutId]);\n  };\n};\nexport default notificationReducer;","map":{"version":3,"sources":["/home/rvp/Desktop/Full-stack-open-2020/part7/blog/client/src/reducers/notificationReducer.js"],"names":["timeoutArr","notificationReducer","state","action","type","forEach","element","clearTimeout","data","notification","setNotification","timeLimit","dispatch","timeoutId","setTimeout","concat"],"mappings":"AAAA,IAAIA,UAAU,GAAG,EAAjB;;AAEA,MAAMC,mBAAmB,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAEnD,UAAQA,MAAM,CAACC,IAAf;AAEA,SAAK,MAAL;AACC,aAAO,EAAP;;AAED,SAAK,MAAL;AACCJ,MAAAA,UAAU,CAACK,OAAX,CAAmBC,OAAO,IAAIC,YAAY,CAACD,OAAD,CAA1C;AACA,aAAOH,MAAM,CAACK,IAAP,CAAYC,YAAnB;;AACD;AACC,aAAOP,KAAP;AATD;AAWA,CAbD;;AAkBA,OAAO,MAAMQ,eAAe,GAAG,CAACD,YAAD,EAAeE,SAAf,KAA6B;AAC3D,SAAO,MAAMC,QAAN,IAAkB;AAExBA,IAAAA,QAAQ,CAAE;AAAER,MAAAA,IAAI,EAAE,MAAR;AAAgBI,MAAAA,IAAI,EAAE;AAAEC,QAAAA;AAAF;AAAtB,KAAF,CAAR;AACA,UAAMI,SAAS,GAAGC,UAAU,CAAC,MAAM;AAAEF,MAAAA,QAAQ,CAAC;AAAER,QAAAA,IAAI,EAAE,MAAR;AAAgBI,QAAAA,IAAI,EAAE;AAAEK,UAAAA;AAAF;AAAtB,OAAD,CAAR;AAAiD,KAA1D,EAA4DF,SAAS,GAAG,IAAxE,CAA5B;AACAX,IAAAA,UAAU,GAAGA,UAAU,CAACe,MAAX,CAAkB,CAACF,SAAD,CAAlB,CAAb;AACA,GALD;AAMA,CAPM;AAWP,eAAeZ,mBAAf","sourcesContent":["let timeoutArr = []\n\nconst notificationReducer = (state = '', action) => {\n\n\tswitch (action.type) {\n\n\tcase 'HIDE':\n\t\treturn ''\n\n\tcase 'SHOW':\n\t\ttimeoutArr.forEach(element => clearTimeout(element))\n\t\treturn action.data.notification\n\tdefault:\n\t\treturn state\n\t}\n}\n\n\n\n\nexport const setNotification = (notification, timeLimit) => {\n\treturn async dispatch => {\n\n\t\tdispatch(({ type: 'SHOW', data: { notification } }))\n\t\tconst timeoutId = setTimeout(() => { dispatch({ type: 'HIDE', data: { timeoutId } }) }, timeLimit * 1000)\n\t\ttimeoutArr = timeoutArr.concat([timeoutId])\n\t}\n}\n\n\n\nexport default notificationReducer"]},"metadata":{},"sourceType":"module"}